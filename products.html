<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Products | 1000 Home Vibes</title>
  <link rel="icon" type="image/jpg" href="favicon.jpg">
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YQJ0RM6LHW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SXXGEKLZDE');
  </script>

  <style>
    /* limit description height (foldable) */
    .specs p {
      max-height: 4.5em;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .specs.expanded p { max-height: none; }

    /* product card font adjustments */
    .product-card h3 { 
      font-size: 0.75rem; 
      font-weight: normal; 
    }
    .product-card p { font-size: 0.8rem; }

    /* loading spinner */
    .spinner {
      display: inline-block;
      width: 32px;
      height: 32px;
      border: 3px solid rgba(255,255,255,0.3);
      border-top-color: #facc15;
      border-radius: 50%;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-green-950 text-white font-sans">
  <header class="text-center py-10">
    <h1 class="text-3xl font-bold text-yellow-100">Explore by Wellness Goal</h1>
    <p class="text-yellow-200 mt-2">Use filters or search to find your perfect product.</p>
    <a href="index.html" class="inline-block mt-4 bg-yellow-500 text-black px-4 py-2 rounded hover:bg-yellow-400">‚Üê Back to Home</a>
  </header>

  <!-- Main layout with sidebar + content -->
  <div class="flex flex-col sm:flex-row max-w-7xl mx-auto px-6">
    
    <!-- Sidebar / Dropdown -->
    <aside class="sm:w-48 sm:pr-6 mb-6 sm:mb-0">
      <!-- Search inside sidebar -->
      <input type="text" id="search-input" placeholder="Search products..." 
        class="text-black px-3 py-2 rounded w-full mb-4 text-sm">

      <!-- Mobile dropdown -->
      <div class="sm:hidden mb-4">
        <select onchange="filterProducts(this.value)" class="text-black px-3 py-2 rounded w-full">
          <option value="All">All</option>
          <option value="Air">Air</option>
          <option value="Sleep">Sleep</option>
          <option value="Body">Body</option>
          <option value="Books">Books</option>
          <option value="Health">Health</option>
          <option value="Home">Home</option>
          <option value="Kitchen">Kitchen</option>
          <option value="Electronics">Electronics</option>
        </select>
      </div>

      <!-- Desktop categories -->
      <ul class="hidden sm:block space-y-2 text-sm">
        <li><a href="#" onclick="filterProducts('All')" class="block hover:text-yellow-400">All</a></li>
        <li><a href="#" onclick="filterProducts('Air')" class="block hover:text-yellow-400">Air</a></li>
        <li><a href="#" onclick="filterProducts('Sleep')" class="block hover:text-yellow-400">Sleep</a></li>
        <li><a href="#" onclick="filterProducts('Body')" class="block hover:text-yellow-400">Body</a></li>
        <li><a href="#" onclick="filterProducts('Books')" class="block hover:text-yellow-400">Books</a></li>
        <li><a href="#" onclick="filterProducts('Health')" class="block hover:text-yellow-400">Health</a></li>
        <li><a href="#" onclick="filterProducts('Home')" class="block hover:text-yellow-400">Home</a></li>
        <li><a href="#" onclick="filterProducts('Kitchen')" class="block hover:text-yellow-400">Kitchen</a></li>
        <li><a href="#" onclick="filterProducts('Electronics')" class="block hover:text-yellow-400">Electronics</a></li>
      </ul>
    </aside>

    <!-- Main product section -->
    <main class="flex-1">
      <!-- Loading Spinner -->
      <div id="loading" class="text-center py-6">
        <div class="spinner mx-auto"></div>
        <p class="text-yellow-300 text-sm mt-2">Loading products‚Ä¶</p>
      </div>

      <!-- Product grid -->
      <section id="product-grid" 
        class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-5 py-6">
      </section>

      <p id="empty-state" class="text-center text-yellow-300 hidden">üòî No products found.</p>
    </main>
  </div>

  <footer class="text-center text-yellow-200 text-sm py-6">
    &copy; 2025 1000 Home Vibes |
    <a href="contact.html" class="underline hover:text-yellow-400">Contact</a> |
    <a href="about.html" class="underline hover:text-yellow-400">About</a>
  </footer>

  <script src="products.js"></script>
  <script>
    // Hide spinner once products.js finishes
    document.addEventListener('DOMContentLoaded', () => {
      const observer = new MutationObserver(() => {
        if (document.querySelector('#product-grid').children.length > 0) {
          document.getElementById('loading').style.display = 'none';
          observer.disconnect();
        }
      });
      observer.observe(document.querySelector('#product-grid'), { childList: true });
    });
  </script>
</body>
</html>
